package structuredBinarySearch;

/* issues
- tabel moet meer dan null zijn
- last numbers not found
- position mentioned might not be correct
 */

import java.util.ArrayList;
import java.util.Collections;
import java.util.List;
import java.util.Scanner;

public class structuredBinarySeach {

	private static Scanner scanner;
	static List<Integer> enteries = new ArrayList<Integer>();
	static int sNumber;
	static int midvalue;
	static int midindex;
	
	public static boolean isStringInt(String s)
	{
	    try
	    {
	        Integer.parseInt(s);
	        return true;
	    } catch (NumberFormatException ex)
	    {
	        return false;
	    }
	}
	
	public static void createList (String[] args) 
	
	{
		// enter a row of numbers
		System.out.println("Enter your own amount of numbers to a list. Press 'enter' after every number. ");
		System.out.println("there must be at least 1 number added");
		System.out.println("Letters will be ignored. Type 'ready' if you are ready. ");
		
				
		scanner = new Scanner(System.in);
		String number;
		int inumber;
		
							
				do 
				{
				number = scanner.nextLine();
				// table should not be empty:
				// if number.equalsIgnoreCase("ready")
				// System.out.println("please enter at least 1 number")
			
				
				// if no stop-sign is given
				if(!number.equalsIgnoreCase("ready"));
					{
					// check if they are numbers instead of other values, add as numbers
					if (isStringInt(number)) 
					{ 
						inumber = Integer.parseInt(number);
						enteries.add(inumber);
					 }
					else System.out.println("Sorry only numbers allowed. And at least 1 number is needed");
					}
				}
				
				while (!number.equalsIgnoreCase("ready"));
				
				System.out.println("thank you; numbers are added and row is made.");
				
				// sort the list
				Collections.sort(enteries);
					
				// show that its correct
				System.out.println("these are the enteries:" + enteries);
				
							
				}
	
	public static void findMiddle()
	{
	// enter your number
	System.out.println("Enter the number you want to find in the list.");
	scanner = new Scanner(System.in);
	String esNumber = scanner.nextLine();
	
	// convert input to int and use this
	 sNumber = Integer.parseInt(esNumber);
	 

	// midvalue is the middle of an total index rounded upwards
	midindex = enteries.indexOf(Math.round(enteries.size()/2))+1;
	midvalue = enteries.get (midindex);
	
	/* test
	System.out.println ("size is: " + enteries.size());
	System.out.println ("middle index is: " + midindex);
	System.out.println ("mid value is: " + midvalue);
	*/
	}

	
	public static boolean higher()
	//check if midvalue is higher/equal (true) or lower (false) than the number to search
	{
	
	if ( sNumber >= midvalue ) 
	{
		// higher = true;
		System.out.println ("entered number is equal or higher");
		return true;
	}  
	else 
	{
		System.out.println ("midvalue is lower");
		return false;	
	}
	
	}
	
	
	
	public static void searchNumber () 
	{
		boolean found = false;
		int i;
		
		//check higher from middle
						
		if (higher()) 
		{
		for (i = (midindex); i < (enteries.size()-1) ; i++)
			{
			if (enteries.get(i).equals(sNumber))
		 	{
			// found
			 found = true;
			/*test
			System.out.println(sNumber);
			System.out.println (enteries.get(i));
			*/
			 break;
		 	}	
			}

		}
		
		//check lower from middle
		else  
		{
			for (i = (midindex); i > 0 ; i--)
			{
			 if (enteries.get(i).equals(sNumber))
			 {
				// found
				 found = true;
				 break;
			 }		
			}
		}
		
		// if found / not found
		if (found) 
			{ System.out.println ("Equal number " + sNumber + " found in position "  + enteries.get(i));
			}
			
		else  System.out.println ("Number " + sNumber + " not found in List ");
				}
	
	
	public static void main(String[] args) 
	{
		
		createList(args);
		findMiddle();
		// boolean goes wrong
		searchNumber();
					
		}
}



